<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWK FishScales - ผู้นำนวัตกรรมเกล็ดปลาคุณภาพระดับสากล</title>
    
    <!-- Google Fonts: Prompt for modern Thai typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Prompt', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            800: '#075985',
                            900: '#0c4a6e', // Deep Ocean Blue
                        },
                        accent: {
                            gold: '#d4af37',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

        // Global variables for modules
        window.db = null;
        window.storage = null;
        window.user = null;
        window.appId = 'swk-fishscales-v2'; // App ID

        try {
            if (typeof __firebase_config !== 'undefined') {
                const app = initializeApp(JSON.parse(__firebase_config));
                const auth = getAuth(app);
                window.db = getFirestore(app);
                window.storage = getStorage(app);
                
                signInAnonymously(auth).catch(error => console.error("Auth Error:", error));
                
                onAuthStateChanged(auth, (u) => {
                    if (u) {
                        window.user = u;
                        console.log("Database Connected");
                        initRealtimeListener();
                    }
                });
            }
        } catch (e) {
            console.log("Offline Mode / Firebase Config Missing");
        }

        // --- Data Handling ---
        
        const defaultContent = {
            'hero-bg': 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?q=80&w=2000&auto=format&fit=crop',
            'txt-hero-title': 'ยกระดับคุณค่า<span class="whitespace-nowrap">ทรัพยากรทางทะเล</span> <br><span class="text-sky-300">สู่มาตรฐานอุตสาหกรรม</span>',
            'txt-hero-desc': 'SWK FishScales ผู้นำด้านการแปรรูปและส่งออกเกล็ดปลาคุณภาพสูง สำหรับอุตสาหกรรมคอลลาเจน อาหารเสริม และเครื่องสำอาง มุ่งมั่นสร้างความยั่งยืนด้วยนวัตกรรม',
            
            // Product 1 is now a VIDEO
            'product-1': '20231210_083846000_iOS.MOV',
            
            'product-2': 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887&auto=format&fit=crop',
            'product-3': 'https://images.unsplash.com/photo-1599423300746-b62507ac9741?q=80&w=1964&auto=format&fit=crop',
            // Text Products
            'txt-prod-1-title': 'เกล็ดปลาแห้ง (Dried Scales)',
            'txt-prod-1-desc': 'ผ่านกระบวนการทำความสะอาดและตากแห้งด้วยระบบ Solar Dome ควบคุมความชื้นต่ำกว่า 10%',
            'txt-prod-2-title': 'เกล็ดปลาขจัดแคลเซียม (Ossein)',
            'txt-prod-2-desc': 'วัตถุดิบตั้งต้นสำหรับการผลิตคอลลาเจนและเจลาติน ผ่านการดึงแร่ธาตุออกด้วยเทคโนโลยีขั้นสูง',
            'txt-prod-3-title': 'คอลลาเจน เปปไทด์ (OEM)',
            'txt-prod-3-desc': 'บริการผลิตคอลลาเจนผงเกรดพรีเมียมจากเกล็ดปลา โมเลกุลขนาดเล็ก ดูดซึมไว',
            // Contact Text
            'txt-addr': '9/1 ตำบลบางตะบูนออก <br>อำเภอบ้านแหลม จังหวัดเพชรบุรี',
            'txt-phone': '062 261 5155',
            'txt-email': 'sales@swkfishscales.com',
            
            // Gallery
            'gallery-1': 'https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?q=80&w=2070&auto=format&fit=crop',
            'gallery-2': 'https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?q=80&w=2070&auto=format&fit=crop',
            'gallery-3': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop',
            'gallery-4': 'https://images.unsplash.com/photo-1578575437130-527eed3abbec?q=80&w=2070&auto=format&fit=crop',
            'gallery-5': 'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=2032&auto=format&fit=crop',
            'gallery-6': 'https://images.unsplash.com/photo-1628194411442-76342898950d?q=80&w=1974&auto=format&fit=crop',
            // Standards
            'standard-1': 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop',
            'standard-2': 'https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=2080&auto=format&fit=crop',
            'standard-3': 'https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?q=80&w=2070&auto=format&fit=crop'
        };

        function initRealtimeListener() {
            if (!window.db) return;
            const docRef = doc(window.db, 'artifacts', window.appId, 'public', 'data', 'site_content');
            
            onSnapshot(docRef, (docSnap) => {
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    applyContent(data);
                    applyOrder(data);
                }
            });
        }

        function applyContent(data) {
            Object.keys(data).forEach(key => {
                // Images or Video
                const element = document.querySelector(`[data-editable-id="${key}"]`);
                if (element) {
                    if (element.tagName === 'IMG' || element.tagName === 'VIDEO') {
                        element.src = data[key];
                    }
                    else {
                        // For background images like hero
                        const bgUrl = data[key] ? `url('${data[key]}')` : 'none';
                        const gradient = `linear-gradient(to right, rgba(12, 74, 110, 0.9), rgba(12, 74, 110, 0.6))`;
                        element.style.backgroundImage = key === 'hero-bg' ? `${gradient}, ${bgUrl}` : bgUrl;
                    }
                }

                // Text
                const textEl = document.querySelector(`[data-editable-text="${key}"]`);
                if (textEl && document.activeElement !== textEl) { 
                    textEl.innerHTML = data[key]; 
                }
            });
        }

        function applyOrder(data) {
            ['products-grid', 'gallery-grid'].forEach(gridId => {
                const orderKey = gridId + '_order';
                if (data[orderKey] && Array.isArray(data[orderKey])) {
                    const container = document.getElementById(gridId);
                    if (!container) return;
                    
                    const items = Array.from(container.children);
                    const itemMap = {};
                    items.forEach(item => itemMap[item.getAttribute('data-item-id')] = item);
                    
                    // Re-append in order
                    data[orderKey].forEach(id => {
                        if (itemMap[id]) container.appendChild(itemMap[id]);
                    });
                }
            });
        }

        // --- Admin Logic ---
        window.isAdmin = false;

        window.adminLogin = function() {
            const password = document.getElementById('admin-password').value;
            if (password === 'admin123') {
                window.isAdmin = true;
                document.getElementById('loginModal').classList.add('hidden');
                document.body.classList.add('admin-mode');
                
                setupTextEditing();
                setupImageEditing();
                setupDragAndDrop();
                
                // Change Button Text
                const adminBtn = document.getElementById('admin-btn-text');
                if(adminBtn) adminBtn.innerText = "ออกจากระบบ";
                document.getElementById('admin-btn-container').onclick = window.adminLogout;
                
                showToast('เข้าสู่ระบบผู้ดูแลเรียบร้อย', 'success');
            } else {
                showToast('รหัสผ่านไม่ถูกต้อง', 'error');
            }
        };

        window.adminLogout = function() {
            location.reload(); 
        };

        // 1. Text Editing Logic
        function setupTextEditing() {
            const texts = document.querySelectorAll('[data-editable-text]');
            texts.forEach(el => {
                el.contentEditable = "true";
                el.classList.add('hover:bg-yellow-50', 'transition', 'cursor-text', 'rounded', 'px-1', 'border', 'border-transparent', 'hover:border-yellow-300');
                
                el.addEventListener('blur', async () => {
                    if (!window.db) return;
                    const key = el.getAttribute('data-editable-text');
                    const val = el.innerHTML; 
                    
                    try {
                        const docRef = doc(window.db, 'artifacts', window.appId, 'public', 'data', 'site_content');
                        await setDoc(docRef, { [key]: val }, { merge: true });
                        showToast('บันทึกข้อความแล้ว', 'success');
                    } catch(e) { console.error(e); }
                });
            });
        }

        // 2. Image/Video Editing Logic
        function setupImageEditing() {
            const elements = document.querySelectorAll('[data-editable-id]');
            elements.forEach(el => {
                const wrapper = document.createElement('div');
                wrapper.className = 'edit-overlay absolute top-2 right-2 z-50 cursor-pointer bg-white text-gray-800 p-2 rounded-full shadow-lg hover:bg-brand-500 hover:text-white transition transform hover:scale-110';
                wrapper.innerHTML = '<i class="fa-solid fa-pen-to-square"></i>';
                wrapper.onclick = (e) => {
                    e.stopPropagation(); e.preventDefault();
                    window.openEditModal(el.getAttribute('data-editable-id'));
                };
                
                if (el.id === 'home') el.appendChild(wrapper);
                else {
                    el.parentElement.style.position = 'relative';
                    el.parentElement.appendChild(wrapper);
                }
            });
        }

        // 3. Drag & Drop Logic
        function setupDragAndDrop() {
            const grids = ['products-grid', 'gallery-grid'];
            
            grids.forEach(gridId => {
                const container = document.getElementById(gridId);
                if(!container) return;

                Array.from(container.children).forEach(item => {
                    item.draggable = true;
                    item.classList.add('cursor-move');
                    
                    item.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', item.getAttribute('data-item-id'));
                        item.classList.add('opacity-50', 'scale-95');
                    });
                    
                    item.addEventListener('dragend', (e) => {
                        item.classList.remove('opacity-50', 'scale-95');
                        saveOrder(gridId);
                    });
                });

                container.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    const afterElement = getDragAfterElement(container, e.clientY, e.clientX);
                    const draggable = document.querySelector('.opacity-50');
                    if (afterElement == null) {
                        container.appendChild(draggable);
                    } else {
                        container.insertBefore(draggable, afterElement);
                    }
                });
            });
        }

        function getDragAfterElement(container, y, x) {
            const draggableElements = [...container.querySelectorAll('[data-item-id]:not(.opacity-50)')];

            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offsetX = x - box.left - box.width / 2;
                const offsetY = y - box.top - box.height / 2;
                const dist = Math.hypot(offsetX, offsetY); 
                
                if (dist < closest.dist) {
                    return { dist: dist, element: child };
                } else {
                    return closest;
                }
            }, { dist: Number.POSITIVE_INFINITY }).element;
        }

        async function saveOrder(gridId) {
            if(!window.db) return;
            const container = document.getElementById(gridId);
            const newOrder = Array.from(container.children).map(child => child.getAttribute('data-item-id'));
            
            try {
                const docRef = doc(window.db, 'artifacts', window.appId, 'public', 'data', 'site_content');
                await setDoc(docRef, { [gridId + '_order']: newOrder }, { merge: true });
            } catch(e) { console.error(e); }
        }

        // Shared Functions
        window.openEditModal = function(id) {
            document.getElementById('editTargetId').value = id;
            document.getElementById('fileNameDisplay').innerText = ''; 
            document.getElementById('newImageFile').value = ''; 
            document.getElementById('newImageUrl').value = ''; // Reset URL input
            document.getElementById('editModal').classList.remove('hidden');
        };

        // File Input Display Name
        document.addEventListener('DOMContentLoaded', () => {
            const fileInput = document.getElementById('newImageFile');
            if(fileInput) {
                fileInput.addEventListener('change', (e) => {
                    const fileName = e.target.files[0]?.name;
                    document.getElementById('fileNameDisplay').innerText = fileName ? `เลือกไฟล์: ${fileName}` : '';
                });
            }
        });

        // Helper: Convert Google Drive Link to Direct Link
        function convertDriveLink(url) {
            // Check for format: https://drive.google.com/file/d/VIDEO_ID/view...
            const fileIdMatch = url.match(/\/d\/(.+?)\//);
            if (fileIdMatch && fileIdMatch[1]) {
                const fileId = fileIdMatch[1];
                return `https://drive.google.com/uc?export=view&id=${fileId}`;
            }
            return url;
        }

        window.saveImage = async function() {
            const id = document.getElementById('editTargetId').value;
            const fileInput = document.getElementById('newImageFile');
            const urlInput = document.getElementById('newImageUrl');
            
            const file = fileInput.files[0];
            let urlToSave = urlInput.value.trim();

            if (!file && !urlToSave) {
                return showToast('กรุณาเลือกไฟล์ หรือ ใส่ลิงก์รูปภาพ', 'error');
            }

            const saveBtn = document.getElementById('saveBtn');
            saveBtn.innerText = 'กำลังบันทึก...';
            
            try {
                // Priority 1: URL Input (Google Drive / External Link)
                if (urlToSave) {
                    urlToSave = convertDriveLink(urlToSave); // Auto convert Drive links
                    
                    if (window.db) {
                        const docRef = doc(window.db, 'artifacts', window.appId, 'public', 'data', 'site_content');
                        await setDoc(docRef, { [id]: urlToSave }, { merge: true });
                        showToast('บันทึกลิงก์สำเร็จ!', 'success');
                    } else {
                        // Local Fallback
                        applyContent({ [id]: urlToSave });
                        showToast('บันทึก (โหมดจำลอง) สำเร็จ', 'success');
                    }
                } 
                // Priority 2: File Upload
                else if (file) {
                    if (window.storage && window.db) {
                        const storageRef = ref(window.storage, `public/images/${Date.now()}_${file.name}`);
                        await uploadBytes(storageRef, file);
                        const url = await getDownloadURL(storageRef);
                        
                        const docRef = doc(window.db, 'artifacts', window.appId, 'public', 'data', 'site_content');
                        await setDoc(docRef, { [id]: url }, { merge: true });
                        showToast('อัปโหลดสำเร็จ!', 'success');
                    } else {
                        // Local fallback (FileReader) - Fixes the "Error" issue
                        const reader = new FileReader();
                        reader.onload = (e) => applyContent({ [id]: e.target.result });
                        reader.readAsDataURL(file);
                        showToast('แสดงผลตัวอย่าง (Server Offline)', 'neutral');
                    }
                }
                
                document.getElementById('editModal').classList.add('hidden');
            } catch (e) {
                console.error(e);
                // Last resort fallback
                if(file) {
                     const reader = new FileReader();
                     reader.onload = (e) => applyContent({ [id]: e.target.result });
                     reader.readAsDataURL(file);
                     showToast('แสดงผลตัวอย่าง (Error Fallback)', 'neutral');
                     document.getElementById('editModal').classList.add('hidden');
                } else {
                    showToast('เกิดข้อผิดพลาดในการบันทึก', 'error');
                }
            }
            saveBtn.innerText = 'บันทึก';
        };

        window.showToast = function(message, type = 'success') {
            const toast = document.createElement('div');
            const colors = {
                success: 'bg-green-600',
                error: 'bg-red-600',
                neutral: 'bg-gray-600'
            };
            const bg = colors[type] || colors.success;
            
            toast.className = `fixed bottom-4 left-1/2 transform -translate-x-1/2 ${bg} text-white px-6 py-3 rounded-full shadow-xl z-[200] animate-bounce-in flex items-center gap-2`;
            toast.innerHTML = `<i class="fa-solid fa-circle-info"></i> ${message}`;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        };

        // Init Default
        applyContent(defaultContent);

    </script>

    <style>
        /* Smooth Scrolling */
        html { scroll-behavior: smooth; }
        
        /* Animations */
        .fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-bounce-in { animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        @keyframes bounceIn { 0% { transform:translate(-50%, 100%) scale(0.5); opacity:0 } 100% { transform:translate(-50%, 0) scale(1); opacity:1 } }

        .hero-bg {
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-image: linear-gradient(to right, rgba(12, 74, 110, 0.9), rgba(12, 74, 110, 0.6)), url('https://images.unsplash.com/photo-1583212292454-1fe6229603b7?q=80&w=2000&auto=format&fit=crop');
        }
        .parallax-bg {
            background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?q=80&w=2070&auto=format&fit=crop');
            background-attachment: fixed;
            background-position: center;
            background-size: cover;
        }

        /* Admin Styles */
        .admin-mode [contenteditable="true"]:focus {
            outline: 2px dashed #d4af37;
            background-color: #fffbeb;
            padding: 4px;
        }
        .admin-mode .cursor-move {
            cursor: grab;
        }
        .admin-mode .cursor-move:active {
            cursor: grabbing;
        }
        .admin-mode .cursor-move:hover {
            transform: scale(0.98);
            border: 2px dashed #0ea5e9;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="font-sans text-gray-700 bg-gray-50 antialiased relative overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-white/95 backdrop-blur-md shadow-sm transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <i class="fa-solid fa-fish-fins text-brand-600 text-3xl animate-pulse"></i>
                    <div class="flex flex-col">
                        <span class="font-bold text-xl text-brand-900 leading-none tracking-tight">SWK</span>
                        <span class="text-sm text-brand-500 font-medium tracking-widest">FISHSCALES</span>
                    </div>
                </div>
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#home" class="text-gray-600 hover:text-brand-600 font-medium transition">หน้าแรก</a>
                    <a href="#products" class="text-gray-600 hover:text-brand-600 font-medium transition">ผลิตภัณฑ์</a>
                    <a href="#gallery" class="text-gray-600 hover:text-brand-600 font-medium transition">ผลงาน</a>
                    <a href="#standards" class="text-gray-600 hover:text-brand-600 font-medium transition">มาตรฐาน</a>
                    <a href="#contact" class="px-5 py-2.5 bg-brand-600 text-white font-medium rounded-full hover:bg-brand-700 transition shadow-lg">ติดต่อเรา</a>
                </div>
                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-600 hover:text-brand-600 focus:outline-none">
                        <i class="fa-solid fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-4 pt-2 pb-6 space-y-2 shadow-lg">
                <a href="#home" class="block px-3 py-2 text-brand-900 font-medium hover:bg-brand-50 rounded-md">หน้าแรก</a>
                <a href="#products" class="block px-3 py-2 text-gray-600 hover:bg-brand-50 rounded-md">ผลิตภัณฑ์</a>
                <a href="#gallery" class="block px-3 py-2 text-gray-600 hover:bg-brand-50 rounded-md">ผลงาน</a>
                <a href="#standards" class="block px-3 py-2 text-gray-600 hover:bg-brand-50 rounded-md">มาตรฐาน</a>
                <a href="#contact" class="block px-3 py-2 text-brand-600 font-bold">ติดต่อเรา</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-[100dvh] flex items-center hero-bg overflow-hidden" data-editable-id="hero-bg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full pt-20 pb-20">
            <div class="md:w-2/3 fade-in-up">
                <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold text-white leading-tight mb-6 drop-shadow-lg" data-editable-text="txt-hero-title">
                    ยกระดับคุณค่า<span class="whitespace-nowrap">ทรัพยากรทางทะเล</span> <br>
                    <span class="text-sky-300">สู่มาตรฐานอุตสาหกรรม</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-200 mb-10 max-w-2xl font-light drop-shadow-md" data-editable-text="txt-hero-desc">
                    SWK FishScales ผู้นำด้านการแปรรูปและส่งออกเกล็ดปลาคุณภาพสูง สำหรับอุตสาหกรรมคอลลาเจน อาหารเสริม และเครื่องสำอาง มุ่งมั่นสร้างความยั่งยืนด้วยนวัตกรรม
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="#products" class="px-8 py-4 bg-white text-brand-900 font-bold rounded-full hover:bg-gray-100 transition shadow-lg text-center transform hover:-translate-y-1">
                        ผลิตภัณฑ์ของเรา
                    </a>
                    <a href="#contact" class="px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-full hover:bg-white/10 transition text-center transform hover:-translate-y-1">
                        ติดต่อสอบถาม
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Animated Wave -->
        <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-none rotate-180 pointer-events-none">
            <svg class="relative block w-[calc(100%+1.3px)] h-[60px] md:h-[120px]" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="fill-gray-50"></path>
            </svg>
        </div>
    </section>

    <!-- Standards & Trust -->
    <section id="standards" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <!-- Carousel Image Section -->
                <div class="md:w-1/2 fade-in-up relative group">
                    <div class="absolute inset-0 bg-brand-500 rounded-2xl transform rotate-3 transition-transform group-hover:rotate-6 opacity-20"></div>
                    <div class="relative rounded-2xl shadow-2xl overflow-hidden h-[400px] w-full bg-gray-100 group-hover:scale-[1.01] transition-transform duration-500">
                        <div id="standards-carousel" class="w-full h-full relative">
                            <img src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-100" data-index="0" alt="Lab Testing" data-editable-id="standard-1">
                            <img src="https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=2080&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-0" data-index="1" alt="Microscope Analysis" data-editable-id="standard-2">
                            <img src="https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-700 opacity-0" data-index="2" alt="Quality Control" data-editable-id="standard-3">
                        </div>
                    </div>
                </div>

                <div class="md:w-1/2 fade-in-up">
                    <h2 class="text-3xl font-bold text-brand-900 mb-6 border-l-4 border-brand-500 pl-4">มาตรฐานคุณภาพที่คุณวางใจได้</h2>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        SWK FishScales ให้ความสำคัญสูงสุดกับคุณภาพและความปลอดภัย กระบวนการผลิตของเราผ่านการตรวจสอบอย่างเข้มงวดในทุกขั้นตอน ตั้งแต่การรับวัตถุดิบจนถึงการส่งมอบสินค้า เพื่อให้มั่นใจว่าเกล็ดปลาของเราบริสุทธิ์และพร้อมสำหรับการนำไปแปรรูปต่อ
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Parallax Vision -->
    <section class="py-24 parallax-bg relative flex items-center justify-center text-center">
        <div class="max-w-4xl mx-auto px-4 z-10 fade-in-up">
            <i class="fa-solid fa-quote-left text-4xl text-accent-gold mb-6 opacity-80"></i>
            <h2 class="text-3xl md:text-5xl font-bold text-white mb-6 leading-tight">
                "เราเปลี่ยนสิ่งเหลือใช้จากธรรมชาติ <br>ให้กลายเป็นนวัตกรรมที่ล้ำค่า"
            </h2>
        </div>
    </section>

    <!-- Products (Reorderable) -->
    <section id="products" class="py-20 bg-brand-900 text-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-brand-500 font-bold tracking-wide uppercase text-sm mb-2">Our Products</h2>
                <h3 class="text-3xl md:text-4xl font-bold text-white">ผลิตภัณฑ์เกล็ดปลาคุณภาพสูง</h3>
            </div>

            <!-- Grid with ID for Drag & Drop -->
            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Product 1 (VIDEO REPLACEMENT) -->
                <div class="bg-brand-800 rounded-2xl overflow-hidden group hover:shadow-2xl hover:shadow-brand-500/30 transition-all duration-300 border border-brand-700/50" data-item-id="prod-1">
                    <div class="h-56 overflow-hidden relative">
                        <video autoplay loop muted playsinline class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700" data-editable-id="product-1">
                            <source src="20231210_083846000_iOS.MOV" type="video/quicktime">
                            <source src="20231210_083846000_iOS.MOV" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="p-8 relative z-20 bg-brand-800">
                        <h4 class="text-xl font-bold mb-3 group-hover:text-brand-400 transition" data-editable-text="txt-prod-1-title">เกล็ดปลาแห้ง (Dried Scales)</h4>
                        <p class="text-gray-300 text-sm mb-4" data-editable-text="txt-prod-1-desc">ผ่านกระบวนการทำความสะอาดและตากแห้งด้วยระบบ Solar Dome ควบคุมความชื้นต่ำกว่า 10%</p>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="bg-brand-800 rounded-2xl overflow-hidden group hover:shadow-2xl hover:shadow-brand-500/30 transition-all duration-300 border border-brand-700/50" data-item-id="prod-2">
                    <div class="h-56 overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887&auto=format&fit=crop" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700" data-editable-id="product-2">
                    </div>
                    <div class="p-8 relative z-20 bg-brand-800">
                        <h4 class="text-xl font-bold mb-3 group-hover:text-brand-400 transition" data-editable-text="txt-prod-2-title">เกล็ดปลาขจัดแคลเซียม (Ossein)</h4>
                        <p class="text-gray-300 text-sm mb-4" data-editable-text="txt-prod-2-desc">วัตถุดิบตั้งต้นสำหรับการผลิตคอลลาเจนและเจลาติน ผ่านการดึงแร่ธาตุออกด้วยเทคโนโลยีขั้นสูง</p>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="bg-brand-800 rounded-2xl overflow-hidden group hover:shadow-2xl hover:shadow-brand-500/30 transition-all duration-300 border border-brand-700/50" data-item-id="prod-3">
                    <div class="h-56 overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1599423300746-b62507ac9741?q=80&w=1964&auto=format&fit=crop" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700" data-editable-id="product-3">
                    </div>
                    <div class="p-8 relative z-20 bg-brand-800">
                        <h4 class="text-xl font-bold mb-3 group-hover:text-brand-400 transition" data-editable-text="txt-prod-3-title">คอลลาเจน เปปไทด์ (OEM)</h4>
                        <p class="text-gray-300 text-sm mb-4" data-editable-text="txt-prod-3-desc">บริการผลิตคอลลาเจนผงเกรดพรีเมียมจากเกล็ดปลา โมเลกุลขนาดเล็ก ดูดซึมไว</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact & Footer -->
    <section id="contact" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col md:flex-row fade-in-up">
                <!-- Info -->
                <div class="md:w-5/12 bg-gradient-to-br from-brand-600 to-brand-800 p-10 text-white flex flex-col justify-between">
                    <div>
                        <h3 class="text-3xl font-bold mb-6">ร่วมธุรกิจกับเรา</h3>
                        <p class="text-brand-100 mb-8">ต้องการข้อมูลเพิ่มเติมเกี่ยวกับผลิตภัณฑ์ สามารถติดต่อเราได้ทันที</p>
                        <div class="space-y-6">
                            <div class="flex items-start gap-4">
                                <div class="bg-white/20 p-3 rounded-lg"><i class="fa-solid fa-location-dot"></i></div>
                                <div><h5 class="font-bold">ที่อยู่สำนักงาน</h5><p class="text-sm text-brand-100" data-editable-text="txt-addr">9/1 ตำบลบางตะบูนออก <br>อำเภอบ้านแหลม จังหวัดเพชรบุรี</p></div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="bg-white/20 p-3 rounded-lg"><i class="fa-solid fa-phone"></i></div>
                                <div><h5 class="font-bold">โทรศัพท์</h5><p class="text-sm text-brand-100" data-editable-text="txt-phone">062 261 5155</p></div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="bg-white/20 p-3 rounded-lg"><i class="fa-solid fa-envelope"></i></div>
                                <div><h5 class="font-bold">อีเมล</h5><p class="text-sm text-brand-100" data-editable-text="txt-email">sales@swkfishscales.com</p></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- QR Code -->
                <div class="md:w-7/12 p-10 flex flex-col items-center justify-center bg-gray-50/50">
                    <h3 class="text-2xl font-bold text-gray-800 mb-8">ช่องทางติดต่อออนไลน์</h3>
                    <div class="flex flex-col md:flex-row items-center gap-8 w-full justify-center">
                        <div class="flex flex-col items-center p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300">
                            <div class="w-48 h-48 bg-white p-2 rounded-lg mb-4 border border-gray-100">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://line.me/ti/p/~swkfishscales" alt="Line QR Code" class="w-full h-full object-contain">
                            </div>
                            <div class="text-center">
                                <div class="flex items-center justify-center gap-2 mb-1">
                                    <i class="fa-brands fa-line text-green-500 text-2xl"></i>
                                    <p class="font-bold text-gray-800 text-lg">LINE Official</p>
                                </div>
                                <p class="text-sm text-gray-500">สแกนเพื่อสอบถามข้อมูลทันที</p>
                            </div>
                        </div>
                        <div class="md:hidden text-gray-400 font-medium">หรือ</div>
                        <a href="#" class="group flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:border-blue-500 hover:shadow-md transition-all duration-300 w-full md:w-56 h-full min-h-[280px]">
                            <div class="w-20 h-20 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-4xl mb-4 group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 transform group-hover:scale-110"><i class="fa-brands fa-facebook-f"></i></div>
                            <div class="text-center">
                                <p class="font-bold text-gray-800 text-lg mb-1 group-hover:text-blue-600 transition">Facebook Page</p>
                                <p class="text-sm text-gray-500 mb-4">ติดตามข่าวสารและผลงาน</p>
                                <span class="inline-block px-4 py-2 bg-gray-100 text-gray-600 text-sm rounded-full group-hover:bg-blue-600 group-hover:text-white transition">ไปที่เพจ <i class="fa-solid fa-arrow-right ml-1"></i></span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center md:text-left">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-sm">&copy; 2024 SWK FishScales Co., Ltd. All rights reserved.</p>
                </div>
                <button id="admin-btn-container" onclick="document.getElementById('loginModal').classList.remove('hidden')" class="flex items-center gap-2 text-gray-500 hover:text-brand-500 transition cursor-pointer text-sm">
                    <i class="fa-solid fa-lock"></i>
                    <span id="admin-btn-text">ผู้ดูแลระบบ</span>
                </button>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div id="lightbox" class="fixed inset-0 z-[100] hidden bg-black/90 flex items-center justify-center p-4 backdrop-blur-md opacity-0 transition-opacity duration-300" onclick="this.classList.add('hidden')">
        <button class="absolute top-6 right-6 text-white text-5xl hover:text-gray-300 focus:outline-none z-[101]">&times;</button>
        <img id="lightbox-img" src="" class="max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl transform scale-95 transition-transform duration-300" onclick="event.stopPropagation()">
    </div>

    <div id="loginModal" class="fixed inset-0 z-[150] hidden flex items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-sm mx-4 w-full animate-bounce-in">
            <h3 class="text-xl font-bold text-gray-900 mb-4">เข้าสู่ระบบผู้ดูแล</h3>
            <div class="mb-4 text-left">
                <label class="block text-sm text-gray-600 mb-1">รหัสผ่าน</label>
                <input type="password" id="admin-password" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-brand-500 outline-none">
            </div>
            <div class="flex gap-2">
                <button onclick="document.getElementById('loginModal').classList.add('hidden')" class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">ยกเลิก</button>
                <button onclick="adminLogin()" class="flex-1 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700">เข้าสู่ระบบ</button>
            </div>
        </div>
    </div>

    <div id="editModal" class="fixed inset-0 z-[150] hidden flex items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-md mx-4 w-full animate-bounce-in">
            <h3 class="text-xl font-bold text-gray-900 mb-4">แก้ไขรูปภาพ</h3>
            <input type="hidden" id="editTargetId">
            <div class="mb-6 text-left">
                <label class="block text-sm text-gray-600 mb-1">1. วางลิงก์ Google Drive (แนะนำ)</label>
                <input id="newImageUrl" type="text" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-brand-500 outline-none mb-4" placeholder="https://drive.google.com/..." />
                
                <div class="relative flex py-2 items-center">
                    <div class="flex-grow border-t border-gray-300"></div>
                    <span class="flex-shrink-0 mx-4 text-gray-400 text-xs">หรือ</span>
                    <div class="flex-grow border-t border-gray-300"></div>
                </div>

                <label class="block text-sm text-gray-600 mb-1 mt-2">2. เลือกรูปภาพ/วิดีโอจากเครื่อง</label>
                <div class="flex items-center justify-center w-full">
                    <label for="newImageFile" class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition">
                        <div class="flex flex-col items-center justify-center pt-5 pb-6">
                            <i class="fa-solid fa-cloud-arrow-up text-gray-400 text-3xl mb-2"></i>
                            <p class="mb-2 text-sm text-gray-500"><span class="font-semibold">คลิกเพื่ออัปโหลด</span></p>
                            <p class="text-xs text-gray-500">PNG, JPG, MOV, MP4 (Max 5MB)</p>
                        </div>
                        <input id="newImageFile" type="file" accept="image/*,video/*" class="hidden" />
                    </label>
                </div>
                <div id="fileNameDisplay" class="text-xs text-brand-600 mt-2 text-center h-4"></div>
            </div>
            <div class="flex gap-2">
                <button onclick="document.getElementById('editModal').classList.add('hidden')" class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">ยกเลิก</button>
                <button id="saveBtn" onclick="saveImage()" class="flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">บันทึก</button>
            </div>
        </div>
    </div>

    <!-- Additional Logic for Carousel -->
    <script>
        // --- 1. Mobile Menu Toggle ---
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        // --- 2. Navbar Scroll Effect ---
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 10) {
                navbar.classList.add('shadow-md');
                navbar.classList.replace('bg-white/95', 'bg-white/100');
            } else {
                navbar.classList.remove('shadow-md');
                navbar.classList.replace('bg-white/100', 'bg-white/95');
            }
        });

        // --- 3. Carousel Logic ---
        let currentStandardSlide = 0;
        const standardSlides = document.querySelectorAll('#standards-carousel img');
        
        function changeStandardSlide(direction) {
            currentStandardSlide = (currentStandardSlide + direction + standardSlides.length) % standardSlides.length;
            standardSlides.forEach((slide, index) => {
                slide.style.opacity = index === currentStandardSlide ? '1' : '0';
                slide.style.zIndex = index === currentStandardSlide ? '10' : '0';
            });
        }
        setInterval(() => changeStandardSlide(1), 5000);

        // --- 4. Lightbox Logic ---
        function openLightbox(src) {
            // If dragging (admin mode), don't open lightbox
            if(document.body.classList.contains('is-dragging')) return;
            
            const lightbox = document.getElementById('lightbox');
            document.getElementById('lightbox-img').src = src;
            lightbox.classList.remove('hidden');
        }

        // --- 5. Accordion Logic ---
        function toggleAccordion(button) {
            const content = button.nextElementSibling;
            const icon = button.querySelector('i');
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                content.classList.remove('active');
                icon.style.transform = 'rotate(0deg)';
            } else {
                document.querySelectorAll('.accordion-content').forEach(el => {
                    el.style.maxHeight = null;
                    el.classList.remove('active');
                    el.previousElementSibling.querySelector('i').style.transform = 'rotate(0deg)';
                });
                content.style.maxHeight = content.scrollHeight + "px";
                content.classList.add('active');
                icon.style.transform = 'rotate(180deg)';
            }
        }
    </script>
</body>
</html>
